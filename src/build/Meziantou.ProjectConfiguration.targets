<Project>
    <PropertyGroup>
        <RestoreUseStaticGraphEvaluation>true</RestoreUseStaticGraphEvaluation>
        <ReportAnalyzer>true</ReportAnalyzer>

        <Features Condition="$(Features) == ''">strict</Features>

        <Deterministic Condition="$(Deterministic) == ''">true</Deterministic>

        <NoWarn>$(NoWarn);CA1014</NoWarn>

        <EnableNETAnalyzers Condition="$(EnableNETAnalyzers) == ''">true</EnableNETAnalyzers>
        <AnalysisMode Condition="$(AnalysisMode) == ''">All</AnalysisMode>
        <AnalysisLevel Condition="$(AnalysisLevel) == ''">preview</AnalysisLevel>

        <TreatWarningsAsErrors Condition="'$(TreatWarningsAsErrors)' == '' AND $(ContinuousIntegrationBuild) == 'true'">true</TreatWarningsAsErrors>
        <EnforceCodeStyleInBuild Condition="'$(EnforceCodeStyleInBuild)' == '' AND $(ContinuousIntegrationBuild) == 'true'">true</EnforceCodeStyleInBuild>
    </PropertyGroup>

    <ItemGroup>
        <!-- Add all editorconfig files -->
        <EditorConfigFiles Include="$(MSBuildThisFileDirectory)\..\configuration\*.editorconfig" />
    </ItemGroup>

    <!-- Banned Symbols -->
    <PropertyGroup>
        <IncludeDefaultBannedSymbols Condition="$(IncludeDefaultBannedSymbols) == ''">true</IncludeDefaultBannedSymbols>
    </PropertyGroup>

    <ItemGroup>
        <PackageReference Include="Microsoft.CodeAnalysis.BannedApiAnalyzers" Version="3.3.3" Condition="@(PackageReference) != '' and @(PackageReference->AnyHaveMetadataValue('Identity', 'Microsoft.CodeAnalysis.BannedApiAnalyzers')) == ''">
            <PrivateAssets>all</PrivateAssets>
            <IncludeAssets>runtime; build; native; contentfiles; analyzers</IncludeAssets>
        </PackageReference>

        <AdditionalFiles Include="$(MSBuildThisFileDirectory)\..\configuration\BannedSymbols.txt" Condition="$(IncludeDefaultBannedSymbols) != 'false'" Visible="false" />
    </ItemGroup>
</Project>